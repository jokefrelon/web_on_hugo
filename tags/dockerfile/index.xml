<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>dockerfile on JokemeBlog</title>
        <link>https://jokeme.top/tags/dockerfile/</link>
        <description>Recent content in dockerfile on JokemeBlog</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en-us</language>
        <lastBuildDate>Tue, 13 Apr 2021 04:59:44 +0000</lastBuildDate><atom:link href="https://jokeme.top/tags/dockerfile/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>Dockerfileç¼–å†™</title>
        <link>https://jokeme.top/p/dockerfile/</link>
        <pubDate>Tue, 13 Apr 2021 04:59:44 +0000</pubDate>
        
        <guid>https://jokeme.top/p/dockerfile/</guid>
        <description>&lt;img src="https://cn.bing.com/th?id=OHR.PadarIsland_EN-CN9304851314_UHD.jpg&pid=hp&w=1080&h=720&rs=1&c=4" alt="Featured image of post Dockerfileç¼–å†™" /&gt;&lt;p&gt;ä»Šå¤©ä¹Ÿæ˜¯æ‘¸é±¼çš„ä¸€å¤©æ²¡æ€ä¹ˆçœ‹ä¹¦,ä¸€ç›´åœ¨ç©Linuxã€‚å¹¶ä¸”åœ¨æ— æ„é—´çœ‹åˆ°äº†æˆ‘ä¹‹å‰ä¸‹è½½çš„ &lt;a class=&#34;link&#34; href=&#34;https://github.com/DirectoryLister/DirectoryLister&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;DirectoryLister&lt;/a&gt;ï¼Œå°±æƒ³ç€åœ¨Dockeré‡Œé¢éƒ¨ç½²ç©ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€å¼€å§‹æˆ‘æ˜¯æ²¡æœ‰æƒ³å†™Dockerfileçš„ï¼Œç›´æ¥åœ¨å¼€äº†ä¸€ä¸ªUbuntuå®¹å™¨æ•´çš„ï¼Œä½†æ˜¯æƒ³äº†æƒ³ï¼Œä»¥åæƒ³ç”¨è‚¯å®šä¸æ–¹ä¾¿ï¼Œè¿™ä¸ªå®¹å™¨æˆ‘éšæ—¶éšåœ°éƒ½æœ‰å¯ä»¥åºŸäº†å®ƒã€‚æ‰€ä»¥å°±ä»ç½‘ä¸Šçœ‹äº†çœ‹Dockerfileæ€ä¹ˆå†™ï¼Œå¼€æ•´ï¼&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæˆ‘å¹¶ä¸æƒ³ä»‹ç»Dockerfileæ€ä¹ˆæ ·å»å†™ï¼Œç½‘ä¸Šçš„æ•™ç¨‹ä¸€å¤§æŠŠï¼Œè‡ªå·±çœ‹å°±å¯ä»¥äº† æˆ‘æ˜¯å‚è€ƒ&lt;a class=&#34;link&#34; href=&#34;https://www.runoob.com/docker/docker-dockerfile.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;èœé¸Ÿæ•™ç¨‹&lt;/a&gt;çš„æ•™ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;Dockerfileæ— éå°±æ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–çš„è¿‡ç¨‹ï¼Œè‡³å°‘åœ¨æˆ‘çœ‹æ¥å°±æ˜¯è¿™æ ·çš„ï¼Œå¯èƒ½æˆ‘åˆšæ¥è§¦äº†è§£ä¸æ·±å§ã€‚ä½†æ˜¯æŒ‰ç…§è¿™ä¸ªæ€è·¯æ˜¯ç»å¯¹å¯ä»¥å†™å‡ºæ¥Dockerfileçš„ï¼Œå› ä¸ºæˆ‘è‡ªå·±å°±æ˜¯ä¾‹å­ğŸŒ°ã€‚&lt;/p&gt;
&lt;p&gt;æ¥çœ‹çœ‹æˆ‘çš„build&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2&#34;&gt;&lt;code&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 1
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 2
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 3
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 4
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 5
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 6
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 7
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 8
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 9
&lt;/span&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;7168 â—¯ : docker build -t flt:v1.0 .
... ...
Removing intermediate container 8fe78ec98a65
 ---&amp;gt; da56585b17c1
Step 4/4 : CMD [&amp;#34;/root/np.sh&amp;#34;]
 ---&amp;gt; Running in 23bd36103ddd
Removing intermediate container 23bd36103ddd
 ---&amp;gt; 114c7dec7e2f
Successfully built 114c7dec7e2f
Successfully tagged flt:v1.0
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;1-é€‰æ‹©åŸºç¡€é•œåƒ&#34;&gt;1. é€‰æ‹©åŸºç¡€é•œåƒ&lt;/h2&gt;
&lt;p&gt;å› ä¸ºDockerfileæ˜¯åŸºäºä¸€äº›åº•å±‚çš„é•œåƒåˆ¶ä½œçš„ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯ &lt;code&gt;ubuntu:20.04&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å› ä¸ºæˆ‘å¹³æ—¶å°±æ˜¯åœ¨Ubuntuç¯å¢ƒä½¿ç”¨çš„æ¯”è¾ƒå¤š,ä½ è¦æ˜¯ä½¿ç”¨CentOSæ›´é¡ºæ‰‹ä½ ä¹Ÿå¯ä»¥é€‰æ‹©ä½¿ç”¨Redhatç³»çš„åŸºç¡€é•œåƒã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæ— å¯äº‰è®®ï¼Œè¿‡ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2&#34;&gt;&lt;code&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;FROM ubuntu:20.04
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;2-é…ç½®ç¯å¢ƒå˜é‡&#34;&gt;2. é…ç½®ç¯å¢ƒå˜é‡&lt;/h2&gt;
&lt;p&gt;å…¶å®æˆ‘è¿™é‡Œä¹Ÿæ²¡æœ‰å•¥ç¯å¢ƒå˜é‡ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“å•¥ä¸œè¥¿è¦è®¾ç½®ä¸ºç¯å¢ƒå˜é‡ï¼Œå°±æŠŠ&lt;strong&gt;DirectoryLister&lt;/strong&gt;çš„ç‰ˆæœ¬å·è®¾ç½®ä¸ºç¯å¢ƒå˜é‡äº†ï¼Œæ–¹ä¾¿ä»¥åå‡çº§ã€‚å“ˆå“ˆå“ˆå“ˆï¼Œæ¯”è¾ƒèœåªèƒ½æƒ³åˆ°è¿™ä¸œè¥¿äº†ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2&#34;&gt;&lt;code&gt;&lt;span style=&#34;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;ENV DL_VERSION 3.7.7
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;3-è‡ªåŠ¨åŒ–è¿è¡Œå‘½ä»¤&#34;&gt;3. è‡ªåŠ¨åŒ–è¿è¡Œå‘½ä»¤&lt;/h2&gt;
&lt;p&gt;è¿™é‡Œä¹Ÿæ²¡æœ‰å•¥å¥½è¯´çš„ï¼Œæœ‰ç‚¹LinuxåŸºç¡€å°±å¯ä»¥ï¼Œå°±æ˜¯è¿™ä¸ªå†™æ³•å¾ˆæ“è›‹ï¼è¦ä¸åœçš„ &amp;amp;&amp;amp; &amp;hellip; &amp;hellip; \ï¼Œè‡³äºä¸ºä»€ä¹ˆè¦è¿™æ ·å‘¢ï¼Œæˆ‘æŸ¥äº†ä¸€ä¸‹ï¼Œè¯´æ˜¯ä¸€ä¸ªRUNå°±æ˜¯ä¸€å±‚ï¼Œä½ è¦æ˜¯å†™å¤ªå¤šRUNå°±ä¼šå¥—å¤ªå¤šå±‚ï¼Œéå¸¸çš„è‡ƒè‚¿ã€‚è¿™äº›æš‚æ—¶ä¹Ÿä¸æ˜¯æˆ‘éœ€è¦è€ƒè™‘çš„ï¼Œåˆ«äººæ€ä¹ˆå†™ï¼Œæˆ‘å°±æ€ä¹ˆå†™ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæˆ‘é‡åˆ°äº†ä¸€ä¸ªè‡ªåŠ¨åŒ–å®‰è£…è½¯ä»¶æ—¶ï¼Œéœ€è¦ç”¨æˆ·æ‰‹åŠ¨è¾“å…¥å‚æ•°çš„é—®é¢˜ï¼Œå¹³æ—¶å’±æ‰‹åŠ¨è¾“å…¥å‚æ•°å¯ä»¥ï¼Œä½†æ˜¯è¿™è‡ªåŠ¨åŒ–çš„æ—¶å€™å¯ä¸èƒ½è¿™æ ·å‘€ï¼ŒåºŸäº†è€å¤§åŠ²ç½‘ä¸Šæ‰¾åˆ°äº†è§£å†³åŠæ³•ï¼Œå°±æ˜¯åˆ©ç”¨ debconf æå‰é…ç½®å¥½å‚æ•°ï¼Œè¯¦ç»†è§£å†³åŠæ³•è§&lt;a class=&#34;link&#34; href=&#34;https://ubuntuqa.com/zh-tw/article/7684.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Ubuntué—®ç­”&lt;/a&gt; ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæˆ‘ç‰¹å–µçš„è¿˜æ˜¯è¦å–·ä¸€å–·CSDNï¼Œå¦ˆçš„ä¸€ç¯‡å¸–å­ä¸‡äººæŠ„ï¼Œä¹Ÿä¸ç®¡å¯¹ä¸å¯¹ï¼Œå¾€è‡ªå·±çš„çš„è´¦å·é‡Œé¢è–…å°±å¯¹äº†ã€‚å¦ˆçš„å¥½å‡ é¡µéƒ½æ˜¯åƒåœ¾æ–‡ç« ï¼Œæµªè´¹æˆ‘çš„æ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;è‡ªåŠ¨åŒ–é‡Œé¢åŸºæœ¬ä¸Šå°±æ˜¯å®‰è£…è½¯ä»¶ä¿®æ”¹é…ç½®ç­‰ç­‰ï¼Œå¼ºåŒ–äº†ä¸€ä¸‹æˆ‘çš„awkå’Œsedã€‚è¿™ä¿©å‘½ä»¤å¤ªé‡è¦äº†ï¼ä¸€å®šè¦å­¦å¥½ï¼&lt;/p&gt;
&lt;h2 id=&#34;4-cmdå‘½ä»¤&#34;&gt;4. CMDå‘½ä»¤&lt;/h2&gt;
&lt;p&gt;æ²¡é”™æˆ‘ç›´æ¥è·³åˆ°äº†CMDå‘½ä»¤ï¼Œå•¥&lt;strong&gt;COPY&lt;/strong&gt;ã€&lt;strong&gt;ADD&lt;/strong&gt;ã€&lt;strong&gt;ENTRYPOINT&lt;/strong&gt;ã€&lt;strong&gt;ARG&lt;/strong&gt;ã€&lt;strong&gt;VOLUME&lt;/strong&gt;ã€&lt;strong&gt;EXPOSE&lt;/strong&gt;ã€&lt;strong&gt;WORKDIR&lt;/strong&gt;ã€&lt;strong&gt;USER&lt;/strong&gt;ã€&lt;strong&gt;HEALTHCHECK&lt;/strong&gt;ã€&lt;strong&gt;ONBUILD&lt;/strong&gt; æˆ‘éƒ½æ²¡æœ‰ç”¨ä¸Šï¼ŒçœŸçš„æ˜¯ä¸çŸ¥é“åœ¨å“ªé‡Œç”¨ï¼Œä¹Ÿç”¨ä¸å¥½ï¼Œç´¢æ€§å°±ä¸ç”¨äº†ï¼Œç›´æ¥ä¸€ä¸ªCMDå°±æ‰“å®Œæ”¶å·¥ã€‚&lt;/p&gt;
&lt;p&gt;CMDé‡Œé¢çš„è„šæœ¬ä¹Ÿæ˜¯æˆ‘å€’è…¾åŠå¤©ç½‘ä¸Šå­¦æ¥çš„ï¼Œè¿™æ ·å†™è™½ç„¶ä¸å¤ªä¼˜é›…ï¼Œä½†æ˜¯æ€»æ¯”ä¸€å¼€å§‹çš„æ—¶å€™ï¼Œä¸€è¿è¡Œå°±ç»“æŸäº†å¥½ã€‚è¯´åˆ°è¿™æˆ‘å°±è§‰å¾—è¿™é‡Œè¿˜æ˜¯æœ‰ç‚¹å‘çš„ï¼Œå› ä¸ºDockerå®¹å™¨é‡Œé¢å¿…é¡»æœ‰ä¸€ä¸ªå‰å°çš„è¿›ç¨‹ï¼Œè¦æ˜¯æ²¡æœ‰è¿›ç¨‹å°±ä¼šæ•´ä¸ªå®¹å™¨åœæ­¢è¿è¡Œï¼Œæˆ‘ä¸€å¼€å§‹è¿˜å‚»å‚»çš„çœ‹ç½‘ä¸Šçš„æ•™ç¨‹å†™nohupï¼Œå†™äº†åŠå¤©ä¹Ÿä¸è¡Œã€‚ç„¶é¹…nohupå¹¶ä¸æ˜¯çœŸæ­£çš„å‰å°è¿›ç¨‹ï¼Œå› ä¸ºä½ å†æŒ‰ä¸€æ¬¡å›è½¦å°±ç›´æ¥é€€å‡ºæ¥äº†ï¼Œnohupå¹¶æ²¡æœ‰åœ¨å‰å°ç»§ç»­è¿è¡Œï¼Œåªæ˜¯nohupçš„é‚£ä¸ªå‘½ä»¤æˆ–è€…è„šæœ¬æ²¡æ­»åœ¨åå°æ´»ç€ï¼Œä½†æ˜¯å‰å°æ²¡æœ‰è¿›ç¨‹å°±ä¼šç›´æ¥é€€å‡ºã€‚æ­£æ˜¯è¿™ç§å‘½ä»¤æˆ–è€…è„šæœ¬è¿˜æ´»ç€çš„å¹»è§‰è®©æˆ‘ä»¬è§‰å¾—è¿™ä»–å¦ˆçš„Dockeræ˜¯ä¸æ˜¯æœ‰ç—…å‘€ï¼Ÿæˆ‘è¿™å±…ç„¶è¿˜ä¸è¡Œï¼&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥æœ‰äº›ä¸œè¥¿è¿˜æ˜¯è¦é è‡ªå·±æ…¢æ…¢çš„ç§¯ç´¯ï¼Œç½‘ä¸Šå¾ˆå¤šä¸œè¥¿ä¹Ÿéƒ½æ˜¯é”™è¯¯çš„ï¼Œä¸çŸ¥é“æˆ‘ä¸Šé¢çš„è§‚ç‚¹å¯¹ä¸å¯¹ï¼Œæ¬¢è¿æŒ‡æ­£ã€‚&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
